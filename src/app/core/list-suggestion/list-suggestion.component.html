<div class="container mt-4">

  <h2 class="text-center mb-4">Liste des suggestions</h2>

  <input
    type="text"
    class="form-control mb-4"
    placeholder="Rechercher par titre ou catÃ©gorie"
    [(ngModel)]="searchText"
  />

  <div *ngFor="let s of filteredSuggestions" class="card mb-3 shadow-sm">
    <div class="card-body">

      <h5 class="card-title">{{ s.title }}</h5>

      <span class="badge bg-primary me-2">{{ s.category }}</span>
      <small class="text-muted">{{ s.date | date:'dd/MM/yyyy' }}</small>

      <p class="card-text mt-2">{{ s.description }}</p>

      <p><strong>Likes :</strong> {{ s.nbLikes }}</p>

      <!-- Status badge -->
      <span
        class="badge"
        [ngClass]="{
          'bg-success': s.status === 'acceptee',
          'bg-danger': s.status === 'refusee',
          'bg-warning text-dark': s.status === 'en_attente'
        }"
      >
        {{ s.status }}
      </span>

      <div class="mt-3" *ngIf="s.status !== 'refusee'">
        <button class="btn btn-primary btn-sm me-2"
                (click)="likeSuggestion(s)">
          ğŸ‘ Like
        </button>

        <button class="btn btn-outline-secondary btn-sm me-2"
                (click)="addToFavorites(s)">
          Ajouter aux favoris
        </button>

        <button class="btn btn-danger btn-sm me-2"
                (click)="deleteSuggestion(s)">
          Supprimer
        </button>

        <button class="btn btn-info btn-sm"
                [routerLink]="['/suggestions', s.id]">
          Details
        </button>
      </div>

    </div>
  </div>

</div>
